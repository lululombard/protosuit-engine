// Shairport-sync configuration - managed by CastBridge
// Deployed by Ansible with defaults, CastBridge overwrites at runtime
general = {
    name = "Protosuit";
    output_backend = "pa";
    mdns_backend = "avahi";
    audio_backend_buffer_desired_length_in_seconds = 2.0;  // larger output buffer for jittery wifi (default 0.35 for PA)
    resync_threshold_in_seconds = 0.0;  // disable hard resync (default 0.050)
    drift_tolerance_in_seconds = 0.1;  // tolerate more drift before correcting (default 0.002)
    audio_backend_silent_lead_in_time = 2.0;  // fill buffer with silence before starting playback
    ignore_volume_control = "yes";  // PulseAudio is sole volume control, prevents double-attenuation
};

metadata = {
    progress_interval = 1.0;
};

mqtt = {
    enabled = "yes";
    hostname = "localhost";
    port = 1883;
    topic = "protogen/fins/castbridge/airplay/playback";
    publish_parsed = "yes";
    publish_raw = "yes";
    publish_cover = "yes";
};
