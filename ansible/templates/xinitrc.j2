#!/bin/sh
# Protosuit Engine X11 Configuration
# Dual display setup for fin displays

# Disable screen blanking and power management
xset s off
xset -dpms
xset s noblank

# Allow local connections to X server (needed for fin display manager)
xhost +local:

# Wait for displays to be ready
sleep 2

# Configure dual displays
# Left fin
DISPLAY=:0 xrandr --output {{ display_config.left.name }} --mode {{ display_config.left.resolution }} --pos {{ display_config.left.position }} --rotate {{ display_config.left.rotation }}

# Right fin
DISPLAY=:0 xrandr --output {{ display_config.right.name }} --mode {{ display_config.right.resolution }} --pos {{ display_config.right.position }} --rotate {{ display_config.right.rotation }}

# Set up extended desktop
DISPLAY=:0 xrandr --output {{ display_config.left.name }} --primary

# Keep X running
exec sleep infinity
